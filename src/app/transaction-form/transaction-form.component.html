<div class="container">
  <form [formGroup]="transactionForm" (submit)="submitForm()">
    <div class="form-container">
      <div class="form-column">
        <div class="form-group" style="white-space: nowrap">
          <label for="description">Description</label>
          <input id="description" type="text" formControlName="description" [class.invalid]="isInvalid('description')"
            (blur)="onBlur('description')" />
        </div>

        <div class="form-group" style="white-space: nowrap">
          <label for="senderNodeId">Sender Node</label>
          <ng-select id="senderNodeId" formControlName="senderNodeId" [class.invalid]="isInvalid('senderNodeId')"
            (blur)="onBlur('senderNodeId')">
            <ng-option *ngFor="let node of nodes" [value]="node.id">
              {{ node.currencySymbol }} {{ node.name }}
            </ng-option>
          </ng-select>
        </div>

        <div class="form-group" style="white-space: nowrap">
          <label for="receiverNodeId">Receiver Node</label>
          <ng-select id="receiverNodeId" formControlName="receiverNodeId" [class.invalid]="isInvalid('receiverNodeId')"
            (blur)="onBlur('receiverNodeId')">
            <ng-option *ngFor="let node of nodes" [value]="node.id">
              {{ node.currencySymbol }} {{ node.name }}
            </ng-option>
          </ng-select>
        </div>

      </div>

      <div class="form-column">
        <div class="form-group" style="white-space: nowrap">
          <label for="date">Date</label>
          <input id="date" type="date" formControlName="date" [class.invalid]="isInvalid('date')"
            (blur)="onBlur('date')" />
        </div>


        <div class="form-group input-icon" style="white-space: nowrap">
          <label for="senderAmount">Sender Amount</label>
          <div class="input-icon-item" style="white-space: nowrap">
            <i>{{ senderCurrency }}</i>
            <input id="senderAmount" type="number" formControlName="senderAmount"
              [class.invalid]="isInvalid('senderAmount')" (blur)="onBlur('senderAmount')" />
          </div>
        </div>


        <div class="form-group input-icon" style="white-space: nowrap">
          <label for="receiverAmount">Receiver Amount</label>
          <div class="input-icon-item" style="white-space: nowrap">
            <i>{{ receiverCurrency }}</i>
            <input id="receiverAmount" type="number" formControlName="receiverAmount"
              [class.invalid]="isInvalid('receiverAmount')" (blur)="onBlur('receiverAmount')" />
          </div>
        </div>

      </div>
    </div>
    <div class="button-group" [ngSwitch]="state">
      <button class="create" class="form" id="create" type="submit" *ngSwitchCase="1"
        [disabled]="transactionForm.invalid">
        Create
      </button>
      <button class="create" class="form" id="create" type="submit" *ngSwitchCase="2"
        [disabled]="transactionForm.invalid">
        Create
      </button>
      <button class="update" class="form" id="update" *ngSwitchCase="3" [disabled]="transactionForm.invalid">
        Edit
      </button>
      <button type="button" class="form" id="cancel" (click)="onCancel()">
        Cancel
      </button>
    </div>

    <div class="error-message">
      {{ error }}
    </div>
  </form>
</div>
